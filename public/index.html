<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css">
    <meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, maximum-scale=1">

    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="http://underscorejs.org/underscore-min.js"></script>
    <script type="text/javascript" src="http://backbonejs.org/backbone-min.js"></script>
    <script type="text/javascript" src="external/mustache.js"></script>
    <script type='application/javascript' src='external/fastclick.js'></script>

    <!-- BACKBONE APPLICATION FILES TODO not correct path-->
    <script type="text/javascript" src="/application/router/router.js"></script>
    <script type="text/javascript" src="/application/views/base-view.js"></script>
    <script type="text/javascript" src="/application/views/departure-view.js"></script>
    <script type="text/javascript" src="/application/views/destination-view.js"></script>
    <script type="text/javascript" src="/application/views/change-city-view.js"></script>
    <script type="text/javascript" src="/application/views/result-view.js"></script>
    <script type="text/javascript" src="/application/views/info-view.js"></script>
    <script type="text/javascript" src="/application/models/city-model.js"></script>
    <script type="text/javascript" src="/application/models/city-collection.js"></script>
    <script type="text/javascript" src="/application/models/buss-stop-model.js"></script>
    <script type="text/javascript" src="/application/models/buss-stop-collection.js"></script>
    <script type="text/javascript" src="/application/models/travel-info-model.js"></script>
    <script type="text/javascript" src="/application/models/travel-info-collection.js"></script>
    <script type="text/javascript" src="/application/application.js"></script>

    <link rel="stylesheet" type="text/css" href="/css/styles.css">

    <script type="text/javascript">
        $(document).ready(function() {
            
            window.addEventListener('load', function() {
                FastClick.attach(document.body);
            }, false);

            var setFooter = function setFooter() {
                var windowHeight = $(window).height();
                var headerHeight = $("#header").outerHeight();
                var footerHeight = $("#footer").outerHeight();
                var appHeight = windowHeight - (headerHeight + footerHeight);
                $("#app").css("min-height", appHeight);
            };
            setFooter();

            window.onresize = function() {
                setFooter();
            };

            $(function(){
                var app = RuteVogn.Application;
                app.run();
            });
        });

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-45755254-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>
    <title>rutebuss.no</title>
</head>
<body>
    <!-- FACEBOOK API -->
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    <!-- FACEBOOK API END -->


    <script>
        function goToHomeHeader(){
            RuteVogn.router.navigate('', true);
        }


        function showHideMenu(){
            var value = $(".dropdownlist").css("display");
            if(value === "none"){
                $(".dropdownlist").css("display", "inline-table");
            }
            else {
                $(".dropdownlist").css("display", "none");
            }
        }

        function goToChooseCityHeader(){
            RuteVogn.router.navigate('city', true);
            $(".dropdownlist").css("display", "none");
        }   
    </script>

    <div id="header" class="app-header-container">
        <div class="menu">
            <div>
                <ul>
                    <li> 
                        <img onClick="showHideMenu()" src="images/menu.jpg"><img>
                        <ul class="dropdownlist">
                            <li class="menulinks" onClick="goToChooseCityHeader()">Velg by</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <div class="app-header-general">
            <img class="logo-image" src="images/logo-buss.png" onClick="goToHomeHeader()">
            <h1>rutebuss.no</h1>
        </div>
    </div>
    <div id="app" class="app">

        <!--APP CONTENT WILL BE RENDERED HERE-->
    </div>
    <div id="footer" class="app-footer-container">
        <span class="footer-text-container">
            <a class="footer-mail" href="mailto:info@rutevogn.no">info@rutevogn.no</a>
             -
            Data fra tromskortet.no/ruter.no
        </span>

        <div class="facebook-like-container fb-like"
             data-href="https://www.facebook.com/rutebuss.no"
             data-layout="button_count" data-action="like"
             data-show-faces="true"
             data-share="true">
        </div>

    </div>
</body>
</html>